@startuml 69_2
actor "Специалист службы поддержки клиентов" as S
participant "Автоматизированная банковская информационная система" as ABIS
participant "База данных клиентов" as BDC
participant "Система финансовых продуктов" as SFP

alt Основной поток событий
    S -> ABIS : Получить информацию о клиенте
    ABIS -> BDC : Запросить информацию о клиенте
    BDC --> ABIS : Вернуть информацию о клиенте
    ABIS --> S : Вернуть информацию о клиенте

    alt Техническая поддержка
        S -> ABIS : Запросить техническую поддержку
        ABIS -> ABIS : Выполнить диагностику проблемы
        alt Проблема с авторизацией
            ABIS --> S : Сообщить о проблеме с авторизацией
            S -> ABIS : Ввести логин и пароль повторно
            ABIS -> ABIS : Проверить логин и пароль
            alt Авторизация успешна
                ABIS --> S : Сообщить об успешной авторизации
            else Авторизация неуспешна
                ABIS --> S : Сообщить о неуспешной авторизации
            end
        else Проблема с соединением
            ABIS --> S : Сообщить о проблеме с соединением
            S -> ABIS : Проверить соединение
            ABIS -> ABIS : Выполнить диагностику соединения
            alt Соединение восстановлено
                ABIS --> S : Сообщить о восстановлении соединения
            else Соединение не восстановлено
                ABIS --> S : Сообщить о невозможности восстановления соединения
            end
        else Проблема с программным обеспечением
            ABIS --> S : Сообщить о проблеме с программным обеспечением
            S -> ABIS : Обновить программное обеспечение
            ABIS -> ABIS : Выполнить диагностику программного обеспечения
            alt Программное обеспечение обновлено
                ABIS --> S : Сообщить об обновлении программного обеспечения
            else Программное обеспечение не обновлено
                ABIS --> S : Сообщить о невозможности обновления программного обеспечения
            end
        end
    end

    alt Консультирование по финансовым продуктам
        S -> ABIS : Запросить информацию о финансовых продуктах
        ABIS -> SFP : Запросить информацию о финансовых продуктах
        SFP --> ABIS : Вернуть информацию о финансовых продуктах
        ABIS --> S : Вернуть информацию о финансовых продуктах
    end

    alt Принятие мер в неотложных ситуациях
        S -> ABIS : Сообщить о неотложной ситуации
        ABIS -> ABIS : Выполнить анализ ситуации
        alt Ситуация решена
            ABIS --> S : Сообщить о решении ситуации
        else Ситуация не решена
            ABIS --> S : Сообщить о невозможности решения ситуации
        end
    end
end

@enduml
