'''Основной поток событий
1. Вариант использования начинается, когда клиент вставляет свою
карточку в банкомат.
2. Банкомат выводит приветствие и предлагает клиенту ввести свой
персональный PIN-код.
3. Клиент вводит PIN-код.
4. Банкомат подтверждает введенный код.
5. Банкомат выводит список доступных действий: сделать вклад,
снять деньги со счета, перевести деньги
6. Клиент выбирает пункт «Снять деньги со счета».
7. Банкомат запрашивает, сколько денег надо снять.
8. Клиент вводит требуемую сумму.
9. Банкомат определяет, имеется ли на счету достаточно денег.
10. Банкомат вычитает требуемую сумму из счета клиента.
11. Банкомат выдает клиенту требуемую сумму наличными.
12. Банкомат возвращает клиенту его карточку.
13. Банкомат печатает чек для клиента.
14. Вариант использования завершается.
Альтернативный поток событий 1. Ввод неправильного PIN-кода.
4а1. Банкомат информирует клиента, что код введен неправильно.
4а2. Банкомат возвращает клиенту его карточку.
4аЗ. Вариант использования завершается.
Альтернативный поток событий 2. Недостаточно денег на счете.
9а1. Банкомат информирует клиента, что денег на его счете недостаточно.
9а2. Банкомат возвращает клиенту его карточку.
9аЗ. Вариант использования завершается.
Альтернативный поток событий 3. Ошибка в подтверждении
запрашиваемой суммы.
9б1. Банкомат сообщает пользователю, что при подтверждении запрашиваемой суммы произошла ошибка, и дает ему номер телефона службы
поддержки клиентов банка.
9б2. Банкомат заносит сведения об ошибке в журнал ошибок. Каждая запись
содержит дату и время ошибки, имя клиента, номер его счета и код ошибки.
9б3. Банкомат возвращает клиенту его карточку.
9б4. Вариант использования завершается.'''


@startuml
actor Клиент

rectangle Банкомат {
  usecase "Вставить карточку" as UC1
  usecase "Ввести PIN-код" as UC2
  usecase "Выбрать действие" as UC3
  usecase "Снять деньги" as UC4
  usecase "Запросить сумму" as UC5
  usecase "Проверить баланс" as UC6
  usecase "Выдать деньги" as UC7
  usecase "Выдать карточку" as UC8
  usecase "Напечатать чек" as UC9
}

Клиент -- UC1
Клиент -- UC2
Клиент -- UC3
Клиент -- UC4
Клиент -- UC5
Клиент -- UC6
Клиент -- UC7
Клиент -- UC8
Клиент -- UC9

UC4 .u.> UC5 : <<include>>
UC5 .u.> UC6 : <<include>>
UC6 .u.> UC7 : <<include>>
UC7 .u.> UC8 : <<include>>
UC8 .u.> UC9 : <<include>>

' Альтернативные потоки
usecase "Неверный PIN" as UC10
usecase "Недостаточно средств" as UC11
usecase "Ошибка подтверждения суммы" as UC12

Клиент -- UC10
Клиент -- UC11
Клиент -- UC12

UC2 .u.> UC10 : <<extend>>
UC6 .u.> UC11 : <<extend>>
UC5 .u.> UC12 : <<extend>>

@enduml